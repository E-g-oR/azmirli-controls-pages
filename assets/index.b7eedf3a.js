import{$ as S,a0 as D,r,p as d,j as u,a1 as F,F as p,B as C}from"./index.b236c2eb.js";import{S as B,E as v,D as A,g as T,s as O,T as z,a as R,b as I,F as j}from"./index.f293bfe2.js";import{u as h,m as q,C as M}from"./cities-dialog.5942a1de.js";import{T as n,I as E}from"./IconButton.761031d4.js";import{T as o}from"./Typography.9c4c5905.js";const V=a=>()=>F("cities",a),J=()=>{const{enqueueSnackbar:a}=S(),i=D(e=>e.cities),k=h(e=>e.setIsOpen),b=h(e=>e.setCreateCity),m=h(e=>e.setEditCity),[x,f]=r.exports.useState(""),c=r.exports.useRef(null),g=r.exports.useCallback(()=>{a("\u0413\u043E\u0440\u043E\u0434 \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0443\u0434\u0430\u043B\u0435\u043D!",{variant:"success"})},[a]),w=r.exports.useCallback(()=>{a("\u041D\u0435 \u043F\u043E\u043B\u0443\u0447\u0438\u043B\u043E\u0441\u044C \u0443\u0434\u0430\u043B\u0438\u0442\u044C \u0433\u043E\u0440\u043E\u0434",{variant:"success"})},[a]),y=r.exports.useMemo(()=>[{key:"actions",header:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044F",size:"100px",render:e=>d(B,{direction:"row",spacing:1,children:[u(n,{title:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C",children:u(E,{onClick:()=>m(e),variant:"plain",children:u(v,{})})}),u(n,{title:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C",children:u(E,{onClick:()=>q(V(e.id),g,w),variant:"plain",children:u(A,{})})})]})},{key:"name",header:"\u0418\u043C\u044F",size:"150px",render:e=>u(p,{children:e.name})},{key:"sub_domain",header:"\u041F\u043E\u0434\u0434\u043E\u043C\u0435\u043D",size:"150px",render:e=>u(p,{children:e.subDomain})},{key:"instagram",header:"\u0418\u043D\u0441\u0442\u0430\u0433\u0440\u0430\u043C",size:"minmax(200px, 1fr)",render:e=>{var t,s;return u(n,{title:(t=e.instagram)!=null?t:"",children:u(o,{sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"no-wrap"},children:(s=e.instagram)!=null?s:""})})}},{key:"vkontakte",header:"\u0412\u041A\u043E\u043D\u0442\u0430\u043A\u0442\u0435",size:"minmax(200px, 1fr)",render:e=>{var t,s;return u(n,{title:(t=e.vkontakte)!=null?t:"",children:u(o,{sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"no-wrap"},children:(s=e.vkontakte)!=null?s:""})})}},{key:"facebook",header:"\u0424\u0435\u0439\u0441\u0431\u0443\u043A",size:"minmax(200px, 1fr)",render:e=>{var t,s;return u(n,{title:(t=e.facebook)!=null?t:"",children:u(o,{sx:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"no-wrap"},children:(s=e.facebook)!=null?s:""})})}}],[m]);r.exports.useEffect(()=>{var s;let e;const t=(s=c.current)==null?void 0:s.querySelector("input");return t&&(e=T(t,f)),()=>e.unsubscribe()},[c,f]);const l=r.exports.useMemo(()=>O(x)(i!=null?i:[]),[i,x]);return d(p,{children:[u(o,{level:"h3",sx:{paddingBottom:2},children:"\u0420\u0435\u0434\u0430\u043A\u0442\u043E\u0440 \u0433\u043E\u0440\u043E\u0434\u043E\u0432"}),d(C,{children:[u(C,{maxWidth:320,marginBottom:2,children:u(z,{label:"\u041F\u043E\u0438\u0441\u043A \u043F\u043E \u0433\u043E\u0440\u043E\u0434\u0430\u043C",ref:c,placeholder:"\u0411\u043E\u0431\u0440\u0443\u0439\u0441\u043A"})}),u(R,{config:y,loading:!i,gap:2,children:l==null?void 0:l.map(e=>u(I,{row:e},e.id))})]}),u(j,{onClick:b}),u(M,{onClose:()=>k(!1)})]})};export{J as default};
