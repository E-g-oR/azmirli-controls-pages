var ze=Object.defineProperty,Le=Object.defineProperties;var Me=Object.getOwnPropertyDescriptors;var we=Object.getOwnPropertySymbols;var Oe=Object.prototype.hasOwnProperty,Te=Object.prototype.propertyIsEnumerable;var Se=(e,o,u)=>o in e?ze(e,o,{enumerable:!0,configurable:!0,writable:!0,value:u}):e[o]=u,S=(e,o)=>{for(var u in o||(o={}))Oe.call(o,u)&&Se(e,u,o[u]);if(we)for(var u of we(o))Te.call(o,u)&&Se(e,u,o[u]);return e},$=(e,o)=>Le(e,Me(o));import{ae as Ue,g as le,f as ce,h as _,_ as C,r as v,j as ie,k as de,n as y,l as a,m as xe,c as H,p as qe,w as Ve,i as ve,V as Ge,a4 as G,F as ge,af as We,ag as _e,ah as He,ab as Pe,a3 as W,ai as je,aj as Je,ak as Re,ad as Qe,ac as Ke,al as Xe,am as Ye,I as re,an as Ze,J as eo,ao as oo}from"./index.cbf16599.js";import{d as ke,f as Ne,e as to,g as ao,h as uo,m as $e,i as ro,j as L,k as me,l as pe,I as he,S as be,T as Fe,E as no,D as so,a as lo,b as co,c as io,F as mo}from"./index.26fc1388.js";import{T as ye}from"./Typography.8d45c657.js";import{B as po,b as ho,a as Be,I as De}from"./menu.b764adf4.js";import{M as A}from"./MenuItem.23cd827a.js";import"./listItemTextClasses.02faf840.js";var bo={concat:function(e,o){return e+o}},fo="",Co={concat:bo.concat,empty:fo},Ae=function(e){return e.trim()},go=function(e,o){return function(u){return u.slice(e,o)}},yo=function(e){return function(o){var u=o.split(e);return Ue(u)?u:[o]}};function xo(e){return le("PrivateSwitchBase",e)}ce("PrivateSwitchBase",["root","checked","disabled","input","edgeStart","edgeEnd"]);const vo=["autoFocus","checked","checkedIcon","className","defaultChecked","disabled","disableFocusRipple","edge","icon","id","inputProps","inputRef","name","onBlur","onChange","onFocus","readOnly","required","tabIndex","type","value"],ko=e=>{const{classes:o,checked:u,disabled:n,edge:t}=e,l={root:["root",u&&"checked",n&&"disabled",t&&`edge${H(t)}`],input:["input"]};return de(l,xo,o)},Bo=_(po)(({ownerState:e})=>C({padding:9,borderRadius:"50%"},e.edge==="start"&&{marginLeft:e.size==="small"?-3:-12},e.edge==="end"&&{marginRight:e.size==="small"?-3:-12})),Eo=_("input")({cursor:"inherit",position:"absolute",opacity:0,width:"100%",height:"100%",top:0,left:0,margin:0,padding:0,zIndex:1}),Io=v.exports.forwardRef(function(o,u){const{autoFocus:n,checked:t,checkedIcon:l,className:b,defaultChecked:d,disabled:c,disableFocusRipple:m=!1,edge:i=!1,icon:f,id:r,inputProps:h,inputRef:x,name:E,onBlur:k,onChange:I,onFocus:w,readOnly:D,required:j,tabIndex:J,type:R,value:U}=o,Q=ie(o,vo),[q,K]=ho({controlled:t,default:Boolean(d),name:"SwitchBase",state:"checked"}),B=ke(),X=g=>{w&&w(g),B&&B.onFocus&&B.onFocus(g)},Y=g=>{k&&k(g),B&&B.onBlur&&B.onBlur(g)},Z=g=>{if(g.nativeEvent.defaultPrevented)return;const N=g.target.checked;K(N),I&&I(g,N)};let P=c;B&&typeof P=="undefined"&&(P=B.disabled);const ee=R==="checkbox"||R==="radio",s=C({},o,{checked:q,disabled:P,disableFocusRipple:m,edge:i}),p=ko(s);return y(Bo,C({component:"span",className:xe(p.root,b),centerRipple:!0,focusRipple:!m,disabled:P,tabIndex:null,role:void 0,onFocus:X,onBlur:Y,ownerState:s,ref:u},Q,{children:[a(Eo,C({autoFocus:n,checked:t,defaultChecked:d,className:p.input,disabled:P,id:ee&&r,name:E,onChange:Z,readOnly:D,ref:x,required:j,ownerState:s,tabIndex:J,type:R},R==="checkbox"&&U===void 0?{}:{value:U},h)),q?l:f]}))});var wo=Io,So=Be(a("path",{d:"M19 5v14H5V5h14m0-2H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2z"}),"CheckBoxOutlineBlank"),Fo=Be(a("path",{d:"M19 3H5c-1.11 0-2 .9-2 2v14c0 1.1.89 2 2 2h14c1.11 0 2-.9 2-2V5c0-1.1-.89-2-2-2zm-9 14l-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"}),"CheckBox"),Do=Be(a("path",{d:"M19 3H5c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V5c0-1.1-.9-2-2-2zm-2 10H7v-2h10v2z"}),"IndeterminateCheckBox");function Po(e){return le("MuiCheckbox",e)}const Ro=ce("MuiCheckbox",["root","checked","disabled","indeterminate","colorPrimary","colorSecondary"]);var fe=Ro;const No=["checkedIcon","color","icon","indeterminate","indeterminateIcon","inputProps","size"],$o=e=>{const{classes:o,indeterminate:u,color:n}=e,t={root:["root",u&&"indeterminate",`color${H(n)}`]},l=de(t,Po,o);return C({},o,l)},Ao=_(wo,{shouldForwardProp:e=>qe(e)||e==="classes",name:"MuiCheckbox",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:u}=e;return[o.root,u.indeterminate&&o.indeterminate,u.color!=="default"&&o[`color${H(u.color)}`]]}})(({theme:e,ownerState:o})=>C({color:(e.vars||e).palette.text.secondary},!o.disableRipple&&{"&:hover":{backgroundColor:e.vars?`rgba(${o.color==="default"?e.vars.palette.action.activeChannel:e.vars.palette.primary.mainChannel} / ${e.vars.palette.action.hoverOpacity})`:Ve(o.color==="default"?e.palette.action.active:e.palette[o.color].main,e.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:"transparent"}}},o.color!=="default"&&{[`&.${fe.checked}, &.${fe.indeterminate}`]:{color:(e.vars||e).palette[o.color].main},[`&.${fe.disabled}`]:{color:(e.vars||e).palette.action.disabled}})),zo=a(Fo,{}),Lo=a(So,{}),Mo=a(Do,{}),Oo=v.exports.forwardRef(function(o,u){var n,t;const l=ve({props:o,name:"MuiCheckbox"}),{checkedIcon:b=zo,color:d="primary",icon:c=Lo,indeterminate:m=!1,indeterminateIcon:i=Mo,inputProps:f,size:r="medium"}=l,h=ie(l,No),x=m?i:c,E=m?i:b,k=C({},l,{color:d,indeterminate:m,size:r}),I=$o(k);return a(Ao,C({type:"checkbox",inputProps:C({"data-indeterminate":m},f),icon:v.exports.cloneElement(x,{fontSize:(n=x.props.fontSize)!=null?n:r}),checkedIcon:v.exports.cloneElement(E,{fontSize:(t=E.props.fontSize)!=null?t:r}),ownerState:k,ref:u},h,{classes:I}))});var To=Oo;function Uo(e){return le("MuiFormControlLabel",e)}const qo=ce("MuiFormControlLabel",["root","labelPlacementStart","labelPlacementTop","labelPlacementBottom","disabled","label","error"]);var ne=qo;const Vo=["checked","className","componentsProps","control","disabled","disableTypography","inputRef","label","labelPlacement","name","onChange","value"],Go=e=>{const{classes:o,disabled:u,labelPlacement:n,error:t}=e,l={root:["root",u&&"disabled",`labelPlacement${H(n)}`,t&&"error"],label:["label",u&&"disabled"]};return de(l,Uo,o)},Wo=_("label",{name:"MuiFormControlLabel",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:u}=e;return[{[`& .${ne.label}`]:o.label},o.root,o[`labelPlacement${H(u.labelPlacement)}`]]}})(({theme:e,ownerState:o})=>C({display:"inline-flex",alignItems:"center",cursor:"pointer",verticalAlign:"middle",WebkitTapHighlightColor:"transparent",marginLeft:-11,marginRight:16,[`&.${ne.disabled}`]:{cursor:"default"}},o.labelPlacement==="start"&&{flexDirection:"row-reverse",marginLeft:16,marginRight:-11},o.labelPlacement==="top"&&{flexDirection:"column-reverse",marginLeft:16},o.labelPlacement==="bottom"&&{flexDirection:"column",marginLeft:16},{[`& .${ne.label}`]:{[`&.${ne.disabled}`]:{color:(e.vars||e).palette.text.disabled}}})),_o=v.exports.forwardRef(function(o,u){const n=ve({props:o,name:"MuiFormControlLabel"}),{className:t,componentsProps:l={},control:b,disabled:d,disableTypography:c,label:m,labelPlacement:i="end"}=n,f=ie(n,Vo),r=ke();let h=d;typeof h=="undefined"&&typeof b.props.disabled!="undefined"&&(h=b.props.disabled),typeof h=="undefined"&&r&&(h=r.disabled);const x={disabled:h};["checked","name","onChange","value","inputRef"].forEach(D=>{typeof b.props[D]=="undefined"&&typeof n[D]!="undefined"&&(x[D]=n[D])});const E=Ne({props:n,muiFormControl:r,states:["error"]}),k=C({},n,{disabled:h,labelPlacement:i,error:E.error}),I=Go(k);let w=m;return w!=null&&w.type!==ye&&!c&&(w=a(ye,C({component:"span",className:I.label},l.typography,{children:w}))),y(Wo,C({className:xe(I.root,t),ownerState:k,ref:u},f,{children:[v.exports.cloneElement(b,x),w]}))});var Ho=_o;function jo(e){return le("MuiFormGroup",e)}ce("MuiFormGroup",["root","row","error"]);const Jo=["className","row"],Qo=e=>{const{classes:o,row:u,error:n}=e;return de({root:["root",u&&"row",n&&"error"]},jo,o)},Ko=_("div",{name:"MuiFormGroup",slot:"Root",overridesResolver:(e,o)=>{const{ownerState:u}=e;return[o.root,u.row&&o.row]}})(({ownerState:e})=>C({display:"flex",flexDirection:"column",flexWrap:"wrap"},e.row&&{flexDirection:"row"})),Xo=v.exports.forwardRef(function(o,u){const n=ve({props:o,name:"MuiFormGroup"}),{className:t,row:l=!1}=n,b=ie(n,Jo),d=ke(),c=Ne({props:n,muiFormControl:d,states:["error"]}),m=C({},n,{row:l,error:c.error}),i=Qo(m);return a(Ko,C({className:xe(i.root,t),ownerState:m,ref:u},b))});var Yo=Xo;const T=Ge(e=>({isOpen:!1,mode:"create",flavor:null,setIsOpen:o=>e({isOpen:o}),setMode:o=>e({mode:o}),setFlavor:o=>e({flavor:o}),setCreateFlavor:()=>e({mode:"create",isOpen:!0}),setEditFlavor:o=>e({flavor:o,mode:"edit",isOpen:!0})}));function Zo({options:e,name:o,control:u,values:n}){const{field:t}=to({control:u,name:o}),[l,b]=v.exports.useState(n);return console.log(l),y(Yo,{children:[a(ao,{component:"legend",children:"\u0414\u043E\u0441\u0442\u0443\u043F\u043D\u044B\u0435 \u043E\u0431\u044A\u0435\u043C\u044B"}),a(G,{direction:"row",children:e.map(d=>a(Ho,{control:a(To,{checked:l.includes(d),onChange:c=>{b(m=>{const i=m.includes(c.target.value)?m.filter(f=>f!==c.target.value):[...m,c.target.value];return t.onChange(i),i})},name:d,title:d}),label:d,value:d},d))})]})}const et=e=>()=>Ke("flavors",e),ot=e=>()=>Qe("flavors",e.id,e),M=["women","men","unisex"],F={women:"\u0436\u0435\u043D\u0441\u043A\u0438\u0439",men:"\u043C\u0443\u0436\u0441\u043A\u043E\u0439",unisex:"\u0443\u043D\u0438\u0441\u0435\u043A\u0441"},O=["lux","exclusive","selective"],Ce=["30","50","100"],tt=e=>ge(e,Re(Ae),Je(o=>!!o),je(Co)(", "),o=>`{${o}}`),at=e=>e&&(e==null?void 0:e.startsWith("{"))&&(e==null?void 0:e.endsWith("}"))?_e(e):He,se=e=>Array.isArray(e)?e:ge(e,at,We(()=>[],o=>ge(o,go(1,o.length-1),yo(","),Re(Ae)))),ut=(e,o)=>S(S({},e),o),rt=({onClose:e})=>{var j,J,R,U,Q,q,K,B,X,Y,Z,P,ee;const{enqueueSnackbar:o}=Pe(),u=T(s=>s.isOpen),n=T(s=>s.mode),t=T(s=>s.flavor),l=W(s=>s.cities),b=W(s=>s.getCityByName),d=W(s=>s.getCityById),{control:c,handleSubmit:m,formState:{errors:i},setValue:f,reset:r,resetField:h,clearErrors:x}=uo({defaultValues:{name:(j=t==null?void 0:t.name)!=null?j:"",articleNumber:(J=t==null?void 0:t.articleNumber)!=null?J:"",brand:(R=t==null?void 0:t.brand)!=null?R:"",category:(U=t==null?void 0:t.category)!=null?U:"lux",cityName:(K=(q=d((Q=t==null?void 0:t.cityId)!=null?Q:""))==null?void 0:q.name)!=null?K:"",sex:(B=t==null?void 0:t.sex)!=null?B:"women",volumes:(Y=se((X=t==null?void 0:t.volume)!=null?X:""))!=null?Y:Ce}}),E=v.exports.useCallback(()=>{r({name:"",cityName:"",volumes:Ce,brand:"",sex:"women",articleNumber:"",category:"lux"}),x()},[r,x,t]),k=()=>{o("Success",{variant:"success"}),e(),E()},I=()=>{o("Something went wrong",{variant:"error"})},w=(n==="create"?"\u0421\u043E\u0437\u0434\u0430\u0442\u044C":"\u0418\u0437\u043C\u0435\u043D\u0438\u0442\u044C")+" \u0430\u0440\u043E\u043C\u0430\u0442 "+((Z=t==null?void 0:t.articleNumber)!=null?Z:"");v.exports.useEffect(()=>{var s,p,g,N,z,oe,te,ae,V,ue;f("name",(s=t==null?void 0:t.name)!=null?s:""),f("brand",(p=t==null?void 0:t.brand)!=null?p:""),f("articleNumber",(g=t==null?void 0:t.articleNumber)!=null?g:""),f("sex",(N=t==null?void 0:t.sex)!=null?N:"women"),f("category",(z=t==null?void 0:t.category)!=null?z:"lux"),f("volumes",(te=se((oe=t==null?void 0:t.volume)!=null?oe:""))!=null?te:[]),f("cityName",(ue=(V=d((ae=t==null?void 0:t.cityId)!=null?ae:""))==null?void 0:V.name)!=null?ue:"")},[t]);const D=v.exports.useCallback(s=>{var Ee,Ie;const{volumes:p,name:g,sex:N,cityName:z,articleNumber:oe,brand:te,category:ae}=s,V={name:g,sex:N,volume:tt(p),cityId:(Ie=(Ee=b(z!=null?z:""))==null?void 0:Ee.id)!=null?Ie:"",articleNumber:oe,brand:te,category:ae},ue=n==="edit"&&t?ot(ut(t,V)):et(V);return $e(ue,k,I)},[n,t,k,I]);return a(ro,{isOpen:u,onClose:()=>{e(),E(),h("name")},onCancel:()=>{e(),E()},onSubmit:m(D),title:w,children:y(G,{direction:"column",spacing:2,children:[a(L,{rules:{required:{message:"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435 \u043D\u0435 \u043C\u043E\u0436\u0435\u0442 \u0431\u044B\u0442\u044C \u043F\u0443\u0441\u0442\u044B\u043C",value:!0}},control:c,name:"name",render:({field:s})=>{var p;return a(me,$(S({label:"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435",title:"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435",variant:"filled"},s),{error:!!i.name,helperText:(p=i.name)==null?void 0:p.message}))}}),a(L,{rules:{required:{message:"\u0411\u0440\u0435\u043D\u0434 \u043D\u0435 \u043C\u043E\u0436\u0435\u0442 \u0431\u044B\u0442\u044C \u043F\u0443\u0441\u0442\u044B\u043C",value:!0}},control:c,name:"brand",render:({field:s})=>{var p;return a(me,$(S({label:"\u0411\u0440\u0435\u043D\u0434",title:"\u0411\u0440\u0435\u043D\u0434",variant:"filled"},s),{error:!!i.brand,helperText:(p=i.brand)==null?void 0:p.message}))}}),y(G,{direction:"row",spacing:2,children:[a(L,{control:c,name:"sex",render:({field:s})=>y(pe,{fullWidth:!0,children:[a(he,{id:"flavor-sex-label",children:"\u041F\u043E\u043B"}),y(be,$(S({labelId:"flavor-sex-label",id:"flavor-sex",variant:"outlined",title:"\u041F\u043E\u043B",label:"\u041F\u043E\u043B"},s),{children:[a(A,{value:M[0],children:F==null?void 0:F[M[0]]}),a(A,{value:M[1],children:F==null?void 0:F[M[1]]}),a(A,{value:M[2],children:F==null?void 0:F[M[2]]})]}))]})}),a(L,{rules:{required:{message:"\u0410\u0440\u0442\u0438\u043A\u0443\u043B \u043D\u0435 \u043C\u043E\u0436\u0435\u0442 \u0431\u044B\u0442\u044C \u043F\u0443\u0441\u0442\u044B\u043C",value:!0}},control:c,name:"articleNumber",render:({field:s})=>{var p;return a(me,$(S({fullWidth:!0,label:"\u0410\u0440\u0442\u0438\u043A\u0443\u043B",title:"\u0410\u0440\u0442\u0438\u043A\u0443\u043B",variant:"filled"},s),{error:!!i.articleNumber,helperText:(p=i.articleNumber)==null?void 0:p.message}))}})]}),y(G,{direction:"row",spacing:2,children:[a(L,{control:c,name:"category",render:({field:s})=>y(pe,{fullWidth:!0,children:[a(he,{id:"flavor-category-label",children:"\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u044F"}),y(be,$(S({labelId:"flavor-category-label",id:"flavor-category",variant:"outlined",title:"\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u044F",label:"\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u044F"},s),{children:[a(A,{value:O[0],children:O[0]}),a(A,{value:O[1],children:O[1]}),a(A,{value:O[2],children:O[2]})]}))]})}),a(L,{rules:{required:{message:"\u0413\u043E\u0440\u043E\u0434 \u043D\u0435 \u043C\u043E\u0436\u0435\u0442 \u0431\u044B\u0442\u044C \u043F\u0443\u0441\u0442\u044B\u043C",value:!0}},control:c,render:({field:s})=>y(pe,{fullWidth:!0,children:[a(he,{id:"flavor-city-label",children:"\u0413\u043E\u0440\u043E\u0434"}),a(be,$(S({labelId:"flavor-city-label",id:"flavor-city",variant:"outlined",title:"\u0413\u043E\u0440\u043E\u0434",label:"\u0413\u043E\u0440\u043E\u0434"},s),{error:!!i.cityName,children:l==null?void 0:l.map(p=>a(A,{value:p.name,children:p.name},p.id))}))]}),name:"cityName"})]}),a(Zo,{options:Ce,control:c,name:"volumes",values:Array.isArray(t==null?void 0:t.volume)?t==null?void 0:t.volume:(ee=se((P=t==null?void 0:t.volume)!=null?P:""))!=null?ee:[]})]})})},nt=e=>oo("flavors",e),ht=()=>{const{enqueueSnackbar:e}=Pe(),o=Xe(Ye("flavors")),u=()=>{e("\u0410\u0440\u043E\u043C\u0430\u0442 \u0431\u044B\u043B \u0443\u0441\u043F\u0435\u0448\u043D\u043E \u0443\u0434\u0430\u043B\u0435\u043D.",{variant:"success"})},n=()=>{e("\u041D\u0435 \u043F\u043E\u043B\u0443\u0447\u0438\u043B\u043E\u0441\u044C \u0443\u0434\u0430\u043B\u0438\u0442\u044C \u0430\u0440\u043E\u043C\u0430\u0442 ://",{variant:"error"})},t=T(r=>r.setIsOpen),l=T(r=>r.setCreateFlavor),b=T(r=>r.setEditFlavor),d=W(r=>r.cities),c=W(r=>r.getCityById),m=()=>{l(),t(!1)},i=v.exports.useMemo(()=>[{key:"actions",header:"\u0414\u0435\u0439\u0441\u0442\u0432\u0438\u044F",size:"max-content",render:r=>y(G,{direction:"row",spacing:1,children:[a(Fe,{title:"\u0420\u0435\u0434\u0430\u043A\u0442\u0438\u0440\u043E\u0432\u0430\u0442\u044C",children:a(De,{onClick:()=>{b(r)},children:a(no,{})})}),a(Fe,{title:"\u0423\u0434\u0430\u043B\u0438\u0442\u044C",children:a(De,{onClick:()=>$e(()=>nt(r.id),u,n),children:a(so,{})})})]})},{key:"cityName",header:"\u0413\u043E\u0440\u043E\u0434",size:"max-content",render:r=>{var h,x;return a("span",{children:(x=c((h=r==null?void 0:r.cityId)!=null?h:""))==null?void 0:x.name})}},{key:"sex",header:"\u041F\u043E\u043B",size:"max-content",render:r=>a("span",{children:r.sex})},{key:"brand",header:"\u0411\u0440\u0435\u043D\u0434",size:"max-content",render:r=>a(re,{children:r.brand})},{key:"name",header:"\u041D\u0430\u0437\u0432\u0430\u043D\u0438\u0435",size:"max-content",render:r=>a(re,{children:r.name})},{key:"category",header:"\u041A\u0430\u0442\u0435\u0433\u043E\u0440\u0438\u044F",size:"max-content",render:r=>a(re,{children:r.category})},{key:"volumes",header:"\u041E\u0431\u044A\u0435\u043C\u044B",size:"max-content",render:r=>{var h;return a("span",{children:se((h=r.volume)!=null?h:"").toString()})}},{key:"articleNumber",header:"\u0410\u0440\u0442\u0438\u043A\u0443\u043B",size:"max-content",render:r=>a("span",{children:r.articleNumber})}],[d,c]);return!0?a(Ze,{to:eo.notFound}):y(re,{children:[a(ye,{variant:"h3",sx:{paddingBottom:2},children:"\u0420\u0435\u0434\u0430\u043A\u0442\u043E\u0440 \u0430\u0440\u043E\u043C\u0430\u0442\u043E\u0432"}),y(lo,{config:i,children:[a(co,{}),a("tbody",{children:o==null?void 0:o.map(r=>a(io,{row:r},r.id))})]}),a(mo,{onClick:l}),a(rt,{onClose:m})]})};export{ht as default};
